<div class="bonificaciones-section">
  <h2>Mis bonificaciones asignadas</h2>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Nombre Bonificación</th>
          <th>Puesto</th>
          <th>Fecha Asignada</th>
        </tr>
      </thead>
      <tbody id="bonificacionesTableBody">
        <!-- Filas de bonificaciones se insertarán aquí -->
      </tbody>
    </table>
  </div>
</div>

<script>
function cargarBonificaciones() {
  submit("/bonificaciones/porPropietario", "");
}

function mostrar_bonificacionesAsignadas(lista) {
  const tbody = document.getElementById("bonificacionesTableBody");
  tbody.innerHTML = "";
  if (!Array.isArray(lista) || lista.length === 0) {
    const tr = document.createElement("tr");
    tr.innerHTML = `<td colspan="3">No hay bonificaciones asignadas</td>`;
    tbody.appendChild(tr);
    return;
  }
  lista.forEach((b) => {
    const tr = document.createElement("tr");
    const nombre = b.nombreBonificacion || b.nombre || "";
    const puesto = (b.puesto && (b.puesto.nombre || b.puesto)) || "";
    const fecha = b.fechaAsignada || b.fecha || "";
    tr.innerHTML = `
      <td>${nombre}</td>
      <td>${puesto}</td>
      <td>${fecha}</td>
    `;
    tbody.appendChild(tr);
  });
}
</script>